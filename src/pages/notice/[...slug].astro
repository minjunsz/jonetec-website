---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

export async function getStaticPaths() {
	const notices = await getCollection('notice');
	return notices.map((notice) => ({
		params: { slug: notice.slug },
		props: notice,
	}));
}

const notice = Astro.props;
const { Content } = await notice.render();
---

<Layout title={`제이원텍(주) | ${notice.data.title}`} description={`제이원텍(주) | ${notice.data.title}`}>
    <div class="container mx-auto px-4 py-16">
        <div class="max-w-3xl mx-auto">
            <a href="/notice" class="btn btn-ghost mb-8">← Back to Notice</a>
            
            <header class="mb-8">
                <h1 class="text-4xl font-bold mb-2">{notice.data.title}</h1>
                <div class="text-gray-500">
                    {notice.data.pubDate.toLocaleDateString()}
                </div>
            </header>

            <article class="prose lg:prose-xl max-w-none">
                <Content />
            </article>
        </div>
    </div>
</Layout>
