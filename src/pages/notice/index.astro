---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const notices = (await getCollection('notice')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<Layout>
  <div class="container mx-auto px-4 py-16">
    <h1 class="text-4xl font-bold text-center mb-12">Notice</h1>
    
    <div class="overflow-x-auto">
      <table class="table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Title</th>
            <th>Author</th>
          </tr>
        </thead>
        <tbody>
          {notices.map((notice) => (
            <tr class="hover">
              <td>{notice.data.pubDate.toLocaleDateString()}</td>
              <td>
                <a href={`/notice/${notice.slug}`} class="link link-hover font-bold">
                    {notice.data.title}
                </a>
              </td>
              <td>{notice.data.author}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </div>
</Layout>
