---
import Layout from '../../layouts/Layout.astro';
import ProductCard from '../../components/ProductCard.astro';
import products, { categories } from '../../data/products';

// Get unique categories

const filteredProducts = products;
---

<Layout>
  <div class="container mx-auto px-4 py-16">
    <h1 class="text-4xl font-bold text-center mb-12">Our Products</h1>
    
    <!-- Filter -->
    <div class="flex flex-wrap justify-center gap-4 mb-12">
        <a href="/products" class="btn btn-neutral">All</a>
        {Object.keys(categories).map(cat => (
            <a href={`/products/${cat.toLowerCase()}`} class="btn btn-outline">
                {cat}
            </a>
        ))}
    </div>

    <!-- Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {filteredProducts.map((product) => (
        <ProductCard {...product} />
      ))}
    </div>
    
    {filteredProducts.length === 0 && (
        <p class="text-center text-gray-500">No products found for this category.</p>
    )}
  </div>
</Layout>
